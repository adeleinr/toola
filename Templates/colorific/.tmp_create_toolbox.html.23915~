{% extends "base.html" %}
{% block content %}
{{message}}
<script>
function showHint(str)
{
	if (str.length==0)
	{
	  document.getElementById("txtHint").innerHTML="";
	  return;
	}
	if (window.XMLHttpRequest)
	{// code for IE7+, Firefox, Chrome, Opera, Safari
	  xmlhttp=new XMLHttpRequest();
	}
	else
	{// code for IE6, IE5
	  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	
	// Create the function to be executed when the server response is ready
	xmlhttp.onreadystatechange=function()
	{
	   /*
		Holds the status of the XMLHttpRequest. Changes from 0 to 4:
		0: request not initialized
		1: server connection established
		2: request received
		3: processing request
		4: request finished and response is ready
	  */
	  if (xmlhttp.readyState==4 && xmlhttp.status==200)
	  {
	    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
	  }
	}
	// Send the request off to a file on the server
    xmlhttp.open("GET","http://localhost:8000/colorific/get_suggestions/?q="+str,true);
    xmlhttp.send();

}

function addRow()
{
	
	var toolName = document.getElementById('toolInput');
	if(toolName.value.length > 0){

		var newdiv=document.createElement("tr");
		var newtext=document.createTextNode(toolName.value);	
		newdiv.innerHTML = "<td>"+toolName.value+"</td><td><input type='button' value='Delete' onclick='delRow(this)'></td>";
		document.getElementById('tools').appendChild(newdiv);
		toolName.value = "";
    }
	

}

function delRow(row)
{
	var index = row.parentNode.parentNode.rowIndex;
	document.getElementById('tools').deleteRow(index);
}

</script>
<div id="main2" class="span-24 last">
<!--
	<form action=""> 
	   Tool: <input type="text" id="txt1" onkeyup="showHint(this.value)" />
	</form>
	<p>Suggestions: <span id="txtHint"></span></p> 	
-->	
    
	<div id="userToolModule" class="span-5">
		<h1>Your Tool Sets</h1>
		
	</div>
	<div id="createToolModule" class="span-12">
		<h1>New Tool Set</h1>
		<label>Name. <span class="form-helper"> Eg. My Django Tools</span></label>
		<br/>
		<input type="text" id="toolSetName">
		<br/>
		
        <div class="span-6 last">
			<table id="tools">
				<tr>
					<td>
						<label>Tool Name. <span class="form-helper"> Eg. PyDev</span></label>
						<br/>
						<input type="text" id="toolInput">
					</td>
					<td>
						<br/>
						<button type="button" onclick="addRow()">Add</button>
					</td>
				</tr>
			</table>
			<button type="button" onclick="">Save</button>
		</div>
		
	</div>
	
	<div id="toolStatsModule" class="span-7 last">
	</div>
	  
	
</div>


{% endblock %}